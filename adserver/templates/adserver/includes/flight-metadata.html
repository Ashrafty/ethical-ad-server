{% load i18n %}


{# Used in flight reporting and flight management #}


<dl>
  {% if flight.campaign.campaign_type == 'community' %}
    <dt>{% trans 'Community ad' %}</dt>
    <dd>{% trans 'This ad is done for the benefit of the community' %}</dd>
  {% endif %}
  {% if flight.campaign.campaign_type == 'house' %}
    <dt>{% trans 'House ad' %}</dt>
    <dd>{% trans 'This is a house advertisement' %}</dd>
  {% endif %}
  {% if flight.campaign.campaign_type == 'paid' and flight.live %}
    <dt>{% trans 'Value remaining' %}</dt>
    <dd>${{ flight.value_remaining|floatformat:2 }} / ${{ flight.projected_total_value|floatformat:2 }}</dd>
  {% endif %}
  {% if flight.cpc %}
    <dt>{% trans 'Cost per click (CPC)' %}</dt>
    <dd>${{ flight.cpc|floatformat:2 }}</dd>
  {% endif %}
  {% if flight.cpm %}
    <dt>{% trans 'Cost per 1,000 impressions (CPM)' %}</dt>
    <dd>${{ flight.cpm|floatformat:2 }}</dd>
  {% endif %}
  {% if flight.start_date %}
    <dt>{% trans 'Estimated start date' %}</dt>
    <dd>{{ flight.start_date }}</dd>
  {% endif %}
  {% if flight.end_date %}
    <dt>{% trans 'Estimated end date' %}</dt>
    <dd>{{ flight.end_date }}</dd>
  {% endif %}
  {% with flight.campaign.publishers.count as publishers_count %}
    {% if publishers_count %}
      <dt>{% trans 'Publishers' %}</dt>
      <dd>
        <ul>
          {% for publisher in flight.campaign.publishers.all|slice:":5" %}
            <li>{{ publisher.name }}</li>
          {% endfor %}
          {% if publishers_count > 5 %}
            <li>{% blocktrans with publishers_count|add:"-5" as other_publishers_count %}{{ other_publishers_count }} other publishers{% endblocktrans %}</li>
          {% endif %}
        </ul>
      </dd>
    {% endif %}
  {% endwith %}
  {% if flight.targeting_parameters %}
     <dt>{% trans 'Targeting parameters' %}</dt>
     <dd>
       <ul>
         {% if flight.targeting_parameters.include_countries %}
           <li>{% blocktrans with value=flight.get_include_countries_display|join:', ' %}Include countries: {{ value }}{% endblocktrans %}</li>
         {% endif %}
         {% if flight.targeting_parameters.exclude_countries %}
           <li>{% blocktrans with value=flight.get_exclude_countries_display|join:', ' %}Exclude countries: {{ value }}{% endblocktrans %}</li>
         {% endif %}
         {% if flight.targeting_parameters.include_state_provinces %}
           <li>{% blocktrans with value=flight.targeting_parameters.include_state_provinces|join:", " %}Include States/Provinces: {{ value }}{% endblocktrans %}</li>
         {% endif %}
         {% if flight.targeting_parameters.include_metro_codes %}
           <li>{% blocktrans with value=flight.targeting_parameters.include_metro_codes|join:", " %}Include Metros/DMAs: {{ value }}{% endblocktrans %}</li>
         {% endif %}
         {% if flight.targeting_parameters.include_keywords %}
           <li>{% blocktrans with value=flight.targeting_parameters.include_keywords|join:", " %}Include keywords: {{ value }}{% endblocktrans %}</li>
         {% endif %}
       </ul>
     </dd>
   {% endif %}
</dl>
