{% extends "adserver/reports/base.html" %}
{% load humanize %}
{% load i18n %}


{% block title %}{% trans 'Publisher Report' %} - {{ publisher }}{% endblock %}


{% block heading %}{% blocktrans %}Publisher Report for {{ publisher }}{% endblocktrans %}{% endblock heading %}


{% block breadcrumbs %}
  {{ block.super }}
  <li class="breadcrumb-item active">{{ publisher }}</li>
{% endblock breadcrumbs %}


{% block summary %}
  <section>
    <div>
      <h2>{% trans 'Advertising results' %}</h2>
      <p><strong>{% trans 'Note: ' %}</strong>{% trans 'These figures are 100% of the total revenue, actual revenue share income will be a percentage of this total.' %}</p>
      <table class="table table-hover">
        <thead>
          <tr>
            <th><strong>{% trans 'Time Period' %}</strong></th>
            <th class="text-right"><strong>{% trans 'Total&nbsp;Views' %}</strong></th>
            <th class="text-right"><strong>{% trans 'Total&nbsp;Clicks' %}</strong></th>
            <th class="text-right"><strong>{% trans 'Total&nbsp;Cost' %}</strong></th>
            <th class="text-right"><strong>{% blocktrans %}Total&nbsp;<abbr title="Click through rate">CTR</abbr>{% endblocktrans %}</strong></th>
          </tr>
        </thead>
        <tbody>
          {% for day in report.days %}
            {% if day.views > 0 or day.clicks > 0 %}
            <tr>
              <td>{{ day.date }}</td>
              <td class="text-right">{{ day.views|intcomma }}</td>
              <td class="text-right">{{ day.clicks|intcomma }}</td>
              <td class="text-right">${{ day.cost|floatformat:2|intcomma }}</td>
              <td class="text-right">{{ day.ctr|floatformat:3 }}%</td>
            </tr>
            {% endif %}
          {% endfor %}
          <tr>
            <td><strong>{{ start_date|date:"M j, Y" }} - {{ end_date|date:"M j, Y" }}</strong></td>
            <td class="text-right"><strong>{{ report.total.views|intcomma }}</strong></td>
            <td class="text-right"><strong>{{ report.total.clicks|intcomma }}</strong></td>
            <td class="text-right"><strong>${{ report.total.cost|floatformat:2|intcomma }}</strong></td>
            <td class="text-right"><strong>{{ report.total.ctr|floatformat:3 }}%</strong></td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
{% endblock summary %}


{% block report %}{% endblock report %}
